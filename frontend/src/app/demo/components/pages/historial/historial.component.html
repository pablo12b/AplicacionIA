<div class="card">
    <h5>Historial de Predicciones</h5>

    <!-- Botón estilizado -->
    <div class="button-container">
        <button pButton pRipple type="button" label="Generar Reporte Consolidado" icon="pi pi-file-pdf"
            class="p-button p-component p-button-raised p-button-lg p-button-primary"
            (click)="generateConsolidatedReport()">
        </button>
    </div>

    <!-- Tabla de predicciones -->
    <p-table [value]="recentPredictions" [paginator]="true" [rows]="9" responsiveLayout="scroll">
        <ng-template pTemplate="header">
            <tr>
                <th>Usuario</th>
                <th>Imagen</th>
                <th pSortableColumn="timestamp">Fecha <p-sortIcon field="timestamp"></p-sortIcon></th>
                <th>Predicción</th>
                <th>Generar Reporte</th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-prediction>
            <tr>
                <td>{{prediction.nombre}}</td>
                <td style="width: 15%; min-width: 5rem;">
                    <img [src]="prediction.image_url" class="shadow-4" alt="Predicción" width="50">
                </td>
                <td>{{prediction.timestamp}}</td>
                <td>{{prediction.predictions}}</td>
                <td>
                    <button pButton pRipple type="button" icon="pi pi-file-pdf"
                        class="p-button p-component p-button-text p-button-icon-only"
                        (click)="generateReport(prediction)">
                    </button>
                </td>
            </tr>
        </ng-template>
    </p-table>
</div>